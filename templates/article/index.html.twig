{% extends 'base.html.twig' %}

{% block title %}Articles - Pricing{% endblock %}

{% block titlePage %}
    <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
        <h3 class="display-4"><i class="fas fa-barcode"></i> Articles</h3>
    </div>
{% endblock %}

{% block body %}

<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    table { min-height: 250px }    
</style>

<div class="example-wrapper">

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            <i class="fa fa-check"></i> {{ message |raw }}
        </div>
    {% endfor %}

    {% for message in app.flashes('warning') %}
        <div class="alert alert-warning">
            <i class="fa fa-exclamation-triangle"></i> {{ message |raw }}
        </div>        
    {% endfor %}

    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">
            <i class="fa fa-times-circle"></i> {{ message |raw }}
        </div>
    {% endfor %}
    
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Référence</th>
                <th scope="col">Libellé</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% if articles| length > 0 %}
                {% set compteur = 1 %}
                {% for article in articles %}
                    <tr>
                        <th scope="row">{{ compteur }}</th>
                        <td>{{ article.reference }}</td>
                        <td>{{ article.libelle }}</td>
                        <th>
                            {% if article.concurrence == 0 %}                                
                                <i class="fas fa-rocket" style="font-size: 20px; color:#ccc"></i>                                                            
                            {% else %}
                                <a href="{{ path('placer_concurrence_form', {'id' : article.id}) }}" title="Concurrencer">
                                    <i class="fas fa-rocket" style="font-size: 20px; color:#0C40D5"></i>                            
                                </a>                                
                            {% endif %}
                        </th>
                    </tr>
                    {% set compteur = compteur + 1 %}
                {% endfor %}    
            {% else %}
                <tr class="text-center">
                    <td colspan="3" class="pt-5">Aucune article enregistré.</td>
                </tr>
            {% endif %}
        </tbody>
    </table>


</div>
{% endblock %}
